(this.webpackJsonpposenet=this.webpackJsonpposenet||[]).push([[0],{31:function(e,t,a){},36:function(e,t,a){e.exports=a(57)},41:function(e,t,a){},49:function(e,t){},50:function(e,t){},51:function(e,t){},57:function(e,t,a){"use strict";a.r(t);var n=a(3),r=a.n(n),c=a(33),o=a.n(c),i=a(35),l=(a(41),a(5)),u=function(e){return r.a.createElement("div",{className:"App"},r.a.createElement("h1",null,"Dashboard"),r.a.createElement("h3",null,"welcome ".concat(e.location.state.state.fullName)))},s=a(10),m=a.n(s),f=a(17),h=a(13),d=a(8),p=(a(31),a(23)),g=a.n(p),b=a(24),E=a(18);a(58),a(59);E.a.apps.length?E.a.app():E.a.initializeApp({apiKey:"AIzaSyDPYIfRwC2hleM1sfAuFbDWo6mOPuSaaaA",authDomain:"smart-face-34f42.firebaseapp.com",projectId:"smart-face-34f42",storageBucket:"smart-face-34f42.appspot.com",messagingSenderId:"686839942351",appId:"1:686839942351:web:abb882c653e7cb991afbba"});var v=function(){var e=Object(f.a)(m.a.mark((function e(t,a,n){var r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a){e.next=2;break}return e.abrupt("return");case 2:return r=w.doc("users/".concat(a)),e.next=5,r.get();case 5:if(!e.sent.exists)try{r.set({email:a,fullName:t,faceUri:n})}catch(c){console.log(c)}return e.abrupt("return",r);case 8:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),w=E.a.firestore();E.a.storage().ref(),E.a;var j=function(e){var t=Object(n.useRef)(null),a=Object(n.useState)([]),c=Object(h.a)(a,2),o=c[0],i=c[1],l=Object(n.useState)(),u=Object(h.a)(l,2),s=(u[0],u[1]),p=Object(n.useState)(1),E=Object(h.a)(p,2),v=E[0],j=E[1],O=Object(n.useState)([]),y=Object(h.a)(O,2),k=y[0],x=y[1],F=Object(n.useState)(""),N=Object(h.a)(F,2),S=N[0],C=N[1],D=Object(n.useState)("scan"),U=Object(h.a)(D,2),I=U[0],A=U[1];Object(n.useEffect)((function(){(function(){var e=Object(f.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t="http://localhost:3000models",Promise.all([d.d.tinyFaceDetector.loadFromUri(t),d.d.faceLandmark68Net.loadFromUri(t),d.d.faceRecognitionNet.loadFromUri(t),d.d.ssdMobilenetv1.loadFromUri(t)]).then(console.log("ok"));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(n.useEffect)((function(){var e;w.collection("users").where("email","==",S).get().then((function(t){t.forEach((function(t){e=t.data()})),i(e)}))}),[v]),Object(n.useEffect)((function(){"object"===typeof o&&x(o.faceUri)}),[o]),Object(n.useEffect)((function(){"sucess"===I&&e.history.push("/dashboard",{state:{fullName:o.fullName}})}),[I]);var M=function(){var e=Object(f.a)(m.a.mark((function e(){var a,n,r,c,o,i;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return A("varifing"),a=t.current.getScreenshot(),s(a),n=new Image,r=new Image,n.src=a,r.src=k,e.next=9,d.b(n,new d.a).withFaceLandmarks().withFaceDescriptors();case 9:return c=e.sent,e.next=12,d.b(r,new d.a).withFaceLandmarks().withFaceDescriptors();case 12:o=e.sent,setTimeout((function(){0===c.length||0===o.length?(console.log("couldnotDetect"),A("couldnotDetect")):i=d.c(c[0].descriptor,o[0].descriptor)}),1e3),setTimeout((function(){"number"===typeof i?i<.4?A("sucess"):(console.log("notMatch"),A("notMatch")):(A("couldnotDetect"),console.log(i))}),2e3);case 15:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"App"},r.a.createElement("h1",null,"LOGIN PAGE"),1===v&&r.a.createElement("form",null,r.a.createElement("input",{style:{margin:"5px 10px",width:290,height:50},type:"email",name:"email",value:S,onChange:function(e){return C(e.target.value)},required:!0,placeholder:"email"}),r.a.createElement("button",{style:{margin:"5px 10px",width:300,height:50},onClick:function(){j(2)}},"Next")),2===v&&r.a.createElement(r.a.Fragment,null,"scan"===I&&r.a.createElement(r.a.Fragment,null,r.a.createElement(g.a,{audio:!1,height:400,ref:t,screenshotFormat:"image/jpeg",width:500,videoConstraints:{width:1280,height:720,facingMode:"user"}}),r.a.createElement("button",{style:{margin:"5px 10px",width:500,height:50},onClick:function(){M()}},"verify")),"varifing"===I&&r.a.createElement("div",null,"processing"),"sucess"===I&&r.a.createElement("div",null,"sucess"),"failed"===I&&r.a.createElement("div",null,"Could not detect,refresh the page or try again "),"couldnotDetect"===I&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,"no face detected "),r.a.createElement("button",{onClick:function(){return A("scan")}},"Try again")),"notMatch"===I&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,"does not match"),r.a.createElement("button",{onClick:function(){return A("scan")}},"Try again"))),r.a.createElement(b.Link,{to:"/signup"},r.a.createElement("p",null,"Not have an account?")))};var O=function(e){var t=Object(n.useRef)(null),a=Object(n.useRef)(null),c=Object(n.useState)(1),o=Object(h.a)(c,2),i=o[0],l=o[1],u=Object(n.useState)(""),s=Object(h.a)(u,2),p=s[0],E=s[1],w=Object(n.useState)(""),j=Object(h.a)(w,2),O=j[0],y=j[1],k=Object(n.useState)(null),x=Object(h.a)(k,2),F=x[0],N=x[1];Object(n.useEffect)((function(){(function(){var e=Object(f.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="http://localhost:3000models",e.next=3,Promise.all([d.d.tinyFaceDetector.loadFromUri(t),d.d.faceLandmark68Net.loadFromUri(t),d.d.faceRecognitionNet.loadFromUri(t),d.d.ssdMobilenetv1.loadFromUri(t)]).then(console.log("ok"));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(n.useEffect)((function(){}),[F]);var S=function(){var e=Object(f.a)(m.a.mark((function e(){var a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=t.current.getScreenshot(),N(a),console.log(a);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"App"},r.a.createElement("h1",null,"SIGN UP PAGE"),1===i&&r.a.createElement("form",null,r.a.createElement("input",{style:{margin:10,width:290,height:50},name:"name",type:"text",value:p,onChange:function(e){return E(e.target.value)},required:!0,placeholder:"Full Name"}),r.a.createElement("input",{style:{margin:10,width:290,height:50},type:"email",name:"email",value:O,onChange:function(e){return y(e.target.value)},required:!0,placeholder:"email"}),r.a.createElement("button",{style:{margin:10,width:300,height:50},onClick:function(){l(2)}},"Next")),2===i&&r.a.createElement(r.a.Fragment,null,null===F?r.a.createElement(r.a.Fragment,null,r.a.createElement(g.a,{audio:!1,height:400,ref:t,screenshotFormat:"image/jpeg",width:500,videoConstraints:{width:1280,height:720,facingMode:"user"}}),r.a.createElement("button",{style:{margin:10,width:500,height:50},onClick:function(){S()}},"Take a shot")):r.a.createElement(r.a.Fragment,null,r.a.createElement("img",{alt:"text img",ref:a,src:F}),r.a.createElement("button",{style:{margin:10,width:200,height:50},onClick:function(){N(null)}},"Take a shot again"),r.a.createElement("button",{style:{margin:10,width:500,height:50},onClick:function(){v(p,O,F).then((function(){e.history.push("/dashboard",{state:{fullName:p}})}))}},"Confrim"))),r.a.createElement(b.Link,{to:"/"},r.a.createElement("p",null,"have an account?")))},y=function(){return r.a.createElement(l.Switch,null,r.a.createElement(l.Route,{exact:!0,path:"/",component:j}),r.a.createElement(l.Route,{exact:!0,path:"/signup",component:O}),r.a.createElement(l.Route,{exact:!0,path:"/dashboard",component:u}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(i.a,null,r.a.createElement(y,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[36,1,2]]]);
//# sourceMappingURL=main.02060611.chunk.js.map
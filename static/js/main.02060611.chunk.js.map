{"version":3,"sources":["components/dashboard.js","firebase/firebase-config.js","components/login.js","components/signup.js","App.js","serviceWorker.js","index.js"],"names":["Dashboard","props","className","location","state","fullName","firebase","apps","length","app","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","createUserindatabase","email","url","a","userRef","firestore","doc","get","exists","set","faceUri","error","console","log","storage","ref","Login","videoRef","useRef","useState","user","setUser","setImageSrc","step","setStep","uri","setUri","setEmail","status","setStatus","useEffect","MODEL_URL","process","Promise","all","faceapi","tinyFaceDetector","loadFromUri","faceLandmark68Net","faceRecognitionNet","ssdMobilenetv1","then","loadmodel","userdata","collection","where","snapshot","forEach","data","history","push","handleplay","imageSr","current","getScreenshot","img","Image","img2","src","withFaceLandmarks","withFaceDescriptors","ditect","ditect2","setTimeout","distance","descriptor","style","margin","width","height","type","name","value","onChange","e","target","required","placeholder","onClick","audio","screenshotFormat","videoConstraints","facingMode","to","Signup","imgRef","setFullName","imageSrc","alt","App","exact","path","component","Boolean","window","hostname","match","ReactDOM","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","registration","unregister","catch","message"],"mappings":"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","file":"static/js/main.02060611.chunk.js","sourcesContent":["import React from \"react\";\r\n\r\nconst Dashboard = (props) => {\r\n\treturn (\r\n\t\t<div className='App'>\r\n\t\t\t<h1>Dashboard</h1>\r\n\t\t\t<h3>{`welcome ${props.location.state.state.fullName}`}</h3>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default Dashboard;\r\n","import firebase from \"firebase/app\";\r\n\r\nimport \"firebase/firestore\";\r\n\r\nimport \"firebase/storage\";\r\n\r\nconst config = {\r\n\tapiKey: \"AIzaSyDPYIfRwC2hleM1sfAuFbDWo6mOPuSaaaA\",\r\n\tauthDomain: \"smart-face-34f42.firebaseapp.com\",\r\n\tprojectId: \"smart-face-34f42\",\r\n\tstorageBucket: \"smart-face-34f42.appspot.com\",\r\n\tmessagingSenderId: \"686839942351\",\r\n\tappId: \"1:686839942351:web:abb882c653e7cb991afbba\",\r\n};\r\nif (!firebase.apps.length) {\r\n\tfirebase.initializeApp(config);\r\n} else {\r\n\tfirebase.app(); // if already initialized, use that one\r\n}\r\n\r\nexport const createUserindatabase = async (fullName, email, url) => {\r\n\tif (!email) return;\r\n\r\n\tconst userRef = firestore.doc(`users/${email}`);\r\n\tconst snapshot = await userRef.get();\r\n\r\n\tif (!snapshot.exists) {\r\n\t\ttry {\r\n\t\t\tuserRef.set({\r\n\t\t\t\temail: email,\r\n\t\t\t\tfullName: fullName,\r\n\t\t\t\tfaceUri: url,\r\n\t\t\t});\r\n\t\t} catch (error) {\r\n\t\t\tconsole.log(error);\r\n\t\t}\r\n\t}\r\n\treturn userRef;\r\n};\r\n\r\nexport const firestore = firebase.firestore();\r\nexport const storageRef = firebase.storage().ref();\r\n\r\nexport default firebase;\r\n","import React, { useRef, useEffect, useState } from \"react\";\r\n\r\nimport * as faceapi from \"face-api.js\";\r\nimport \"./login.css\";\r\nimport Webcam from \"react-webcam\";\r\nimport { Link } from \"react-router-dom/cjs/react-router-dom.min\";\r\nimport { firestore } from \"../firebase/firebase-config\";\r\nfunction Login(props) {\r\n\tconst videoRef = useRef(null);\r\n\tconst [user, setUser] = useState([]);\r\n\tconst [imageSrc, setImageSrc] = useState();\r\n\tconst [step, setStep] = useState(1);\r\n\tconst [uri, setUri] = useState([]);\r\n\tconst [email, setEmail] = useState(\"\");\r\n\tconst [status, setStatus] = useState(\"scan\");\r\n\r\n\tuseEffect(() => {\r\n\t\tconst loadmodel = async () => {\r\n\t\t\tconst MODEL_URL = process.env.PUBLIC_URL + \"models\";\r\n\t\t\tPromise.all([\r\n\t\t\t\tfaceapi.nets.tinyFaceDetector.loadFromUri(MODEL_URL),\r\n\t\t\t\tfaceapi.nets.faceLandmark68Net.loadFromUri(MODEL_URL),\r\n\t\t\t\tfaceapi.nets.faceRecognitionNet.loadFromUri(MODEL_URL),\r\n\t\t\t\tfaceapi.nets.ssdMobilenetv1.loadFromUri(MODEL_URL),\r\n\t\t\t]).then(console.log(\"ok\"));\r\n\t\t};\r\n\t\tloadmodel();\r\n\t}, []);\r\n\r\n\tuseEffect(() => {\r\n\t\tconst user = firestore.collection(\"users\").where(\"email\", \"==\", email);\r\n\t\tlet userdata;\r\n\t\tuser.get().then((snapshot) => {\r\n\t\t\tsnapshot.forEach((doc) => {\r\n\t\t\t\tuserdata = doc.data();\r\n\t\t\t});\r\n\t\t\tsetUser(userdata);\r\n\t\t});\r\n\t}, [step]);\r\n\tuseEffect(() => {\r\n\t\tif (typeof user === \"object\") {\r\n\t\t\tsetUri(user.faceUri);\r\n\t\t}\r\n\t}, [user]);\r\n\tuseEffect(() => {\r\n\t\tif (status === \"sucess\") {\r\n\t\t\tprops.history.push(\"/dashboard\", { state: { fullName: user.fullName } });\r\n\t\t}\r\n\t}, [status]);\r\n\tconst videoConstraints = {\r\n\t\twidth: 1280,\r\n\t\theight: 720,\r\n\t\tfacingMode: \"user\",\r\n\t};\r\n\r\n\tconst handleplay = async () => {\r\n\t\tsetStatus(\"varifing\");\r\n\t\tconst imageSr = videoRef.current.getScreenshot();\r\n\r\n\t\tsetImageSrc(imageSr);\r\n\t\tvar img = new Image();\r\n\t\tvar img2 = new Image();\r\n\t\timg.src = imageSr;\r\n\r\n\t\timg2.src = uri;\r\n\r\n\t\tconst ditect = await faceapi\r\n\t\t\t.detectAllFaces(img, new faceapi.TinyFaceDetectorOptions())\r\n\t\t\t.withFaceLandmarks()\r\n\t\t\t.withFaceDescriptors();\r\n\t\tconst ditect2 = await faceapi\r\n\t\t\t.detectAllFaces(img2, new faceapi.TinyFaceDetectorOptions())\r\n\t\t\t.withFaceLandmarks()\r\n\t\t\t.withFaceDescriptors();\r\n\r\n\t\tlet distance;\r\n\t\tsetTimeout(() => {\r\n\t\t\tif (ditect.length === 0 || ditect2.length === 0) {\r\n\t\t\t\tconsole.log(\"couldnotDetect\");\r\n\t\t\t\tsetStatus(\"couldnotDetect\");\r\n\t\t\t} else {\r\n\t\t\t\tdistance = faceapi.euclideanDistance(\r\n\t\t\t\t\tditect[0].descriptor,\r\n\t\t\t\t\tditect2[0].descriptor\r\n\t\t\t\t);\r\n\t\t\t}\r\n\t\t}, 1000);\r\n\t\tsetTimeout(() => {\r\n\t\t\tif (typeof distance === \"number\") {\r\n\t\t\t\tif (distance < 0.4) {\r\n\t\t\t\t\tsetStatus(\"sucess\");\r\n\t\t\t\t} else {\r\n\t\t\t\t\tconsole.log(\"notMatch\");\r\n\t\t\t\t\tsetStatus(\"notMatch\");\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tsetStatus(\"couldnotDetect\");\r\n\t\t\t\tconsole.log(distance);\r\n\t\t\t}\r\n\t\t}, 2000);\r\n\t};\r\n\treturn (\r\n\t\t<div className='App'>\r\n\t\t\t<h1>LOGIN PAGE</h1>\r\n\t\t\t{step === 1 && (\r\n\t\t\t\t<form>\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\tstyle={{ margin: \"5px 10px\", width: 290, height: 50 }}\r\n\t\t\t\t\t\ttype='email'\r\n\t\t\t\t\t\tname='email'\r\n\t\t\t\t\t\tvalue={email}\r\n\t\t\t\t\t\tonChange={(e) => setEmail(e.target.value)}\r\n\t\t\t\t\t\trequired\r\n\t\t\t\t\t\tplaceholder='email'\r\n\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t<button\r\n\t\t\t\t\t\tstyle={{ margin: \"5px 10px\", width: 300, height: 50 }}\r\n\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\tsetStep(2);\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\tNext\r\n\t\t\t\t\t</button>\r\n\t\t\t\t</form>\r\n\t\t\t)}\r\n\t\t\t{step === 2 && (\r\n\t\t\t\t<>\r\n\t\t\t\t\t{status === \"scan\" && (\r\n\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t<Webcam\r\n\t\t\t\t\t\t\t\taudio={false}\r\n\t\t\t\t\t\t\t\theight={400}\r\n\t\t\t\t\t\t\t\tref={videoRef}\r\n\t\t\t\t\t\t\t\tscreenshotFormat='image/jpeg'\r\n\t\t\t\t\t\t\t\twidth={500}\r\n\t\t\t\t\t\t\t\tvideoConstraints={videoConstraints}\r\n\t\t\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\tstyle={{ margin: \"5px 10px\", width: 500, height: 50 }}\r\n\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\thandleplay();\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\tverify\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t</>\r\n\t\t\t\t\t)}\r\n\t\t\t\t\t{status === \"varifing\" && <div>processing</div>}\r\n\t\t\t\t\t{status === \"sucess\" && <div>sucess</div>}\r\n\t\t\t\t\t{status === \"failed\" && (\r\n\t\t\t\t\t\t<div>Could not detect,refresh the page or try again </div>\r\n\t\t\t\t\t)}\r\n\t\t\t\t\t{status === \"couldnotDetect\" && (\r\n\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t<div>no face detected </div>\r\n\t\t\t\t\t\t\t<button onClick={() => setStatus(\"scan\")}>Try again</button>\r\n\t\t\t\t\t\t</>\r\n\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t{status === \"notMatch\" && (\r\n\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t<div>does not match</div>\r\n\t\t\t\t\t\t\t<button onClick={() => setStatus(\"scan\")}>Try again</button>\r\n\t\t\t\t\t\t</>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</>\r\n\t\t\t)}\r\n\t\t\t<Link to='/signup'>\r\n\t\t\t\t<p>Not have an account?</p>\r\n\t\t\t</Link>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default Login;\r\n","import React, { useRef, useEffect, useState } from \"react\";\r\nimport \"./login.css\";\r\nimport * as faceapi from \"face-api.js\";\r\n\r\nimport Webcam from \"react-webcam\";\r\nimport { Link } from \"react-router-dom/cjs/react-router-dom.min\";\r\nimport { createUserindatabase } from \"../firebase/firebase-config\";\r\nfunction Signup(props) {\r\n\tconst videoRef = useRef(null);\r\n\tconst imgRef = useRef(null);\r\n\tconst [step, setStep] = useState(1);\r\n\tconst [fullName, setFullName] = useState(\"\");\r\n\tconst [email, setEmail] = useState(\"\");\r\n\tconst [imageSrc, setImageSrc] = useState(null);\r\n\r\n\tuseEffect(() => {\r\n\t\tconst loadmodel = async () => {\r\n\t\t\tconst MODEL_URL = process.env.PUBLIC_URL + \"models\";\r\n\t\t\tawait Promise.all([\r\n\t\t\t\tfaceapi.nets.tinyFaceDetector.loadFromUri(MODEL_URL),\r\n\t\t\t\tfaceapi.nets.faceLandmark68Net.loadFromUri(MODEL_URL),\r\n\t\t\t\tfaceapi.nets.faceRecognitionNet.loadFromUri(MODEL_URL),\r\n\t\t\t\tfaceapi.nets.ssdMobilenetv1.loadFromUri(MODEL_URL),\r\n\t\t\t]).then(console.log(\"ok\"));\r\n\t\t};\r\n\t\tloadmodel();\r\n\t}, []);\r\n\tuseEffect(() => {}, [imageSrc]);\r\n\tconst videoConstraints = {\r\n\t\twidth: 1280,\r\n\t\theight: 720,\r\n\t\tfacingMode: \"user\",\r\n\t};\r\n\r\n\tconst handleplay = async () => {\r\n\t\tconst imageSr = videoRef.current.getScreenshot();\r\n\r\n\t\tsetImageSrc(imageSr);\r\n\t\tconsole.log(imageSr);\r\n\t};\r\n\tconst handleConfrim = () => {\r\n\t\tcreateUserindatabase(fullName, email, imageSrc).then(() => {\r\n\t\t\tprops.history.push(\"/dashboard\", { state: { fullName: fullName } });\r\n\t\t});\r\n\t};\r\n\treturn (\r\n\t\t<div className='App'>\r\n\t\t\t<h1>SIGN UP PAGE</h1>\r\n\t\t\t{step === 1 && (\r\n\t\t\t\t<form>\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\tstyle={{ margin: 10, width: 290, height: 50 }}\r\n\t\t\t\t\t\tname='name'\r\n\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\tvalue={fullName}\r\n\t\t\t\t\t\tonChange={(e) => setFullName(e.target.value)}\r\n\t\t\t\t\t\trequired\r\n\t\t\t\t\t\tplaceholder='Full Name'\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\tstyle={{ margin: 10, width: 290, height: 50 }}\r\n\t\t\t\t\t\ttype='email'\r\n\t\t\t\t\t\tname='email'\r\n\t\t\t\t\t\tvalue={email}\r\n\t\t\t\t\t\tonChange={(e) => setEmail(e.target.value)}\r\n\t\t\t\t\t\trequired\r\n\t\t\t\t\t\tplaceholder='email'\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<button\r\n\t\t\t\t\t\tstyle={{ margin: 10, width: 300, height: 50 }}\r\n\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\tsetStep(2);\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\tNext\r\n\t\t\t\t\t</button>\r\n\t\t\t\t</form>\r\n\t\t\t)}\r\n\t\t\t{step === 2 && (\r\n\t\t\t\t<>\r\n\t\t\t\t\t{imageSrc === null ? (\r\n\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t<Webcam\r\n\t\t\t\t\t\t\t\taudio={false}\r\n\t\t\t\t\t\t\t\theight={400}\r\n\t\t\t\t\t\t\t\tref={videoRef}\r\n\t\t\t\t\t\t\t\tscreenshotFormat='image/jpeg'\r\n\t\t\t\t\t\t\t\twidth={500}\r\n\t\t\t\t\t\t\t\tvideoConstraints={videoConstraints}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\tstyle={{ margin: 10, width: 500, height: 50 }}\r\n\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\thandleplay();\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\tTake a shot\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t</>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t<img alt='text img' ref={imgRef} src={imageSrc} />\r\n\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\tstyle={{ margin: 10, width: 200, height: 50 }}\r\n\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\tsetImageSrc(null);\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\tTake a shot again\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\tstyle={{ margin: 10, width: 500, height: 50 }}\r\n\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\thandleConfrim();\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\tConfrim\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t</>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</>\r\n\t\t\t)}\r\n\r\n\t\t\t<Link to='/'>\r\n\t\t\t\t<p>have an account?</p>\r\n\t\t\t</Link>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default Signup;\r\n","import React from \"react\";\r\n\r\nimport { Route, Switch } from \"react-router\";\r\nimport Dashboard from \"./components/dashboard\";\r\nimport Login from \"./components/login\";\r\nimport Signup from \"./components/signup\";\r\n\r\nconst App = () => {\r\n\treturn (\r\n\t\t<Switch>\r\n\t\t\t<Route exact path='/' component={Login} />\r\n\t\t\t<Route exact path='/signup' component={Signup} />\r\n\t\t\t<Route exact path='/dashboard' component={Dashboard} />\r\n\t\t</Switch>\r\n\t);\r\n};\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' },\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready\r\n      .then(registration => {\r\n        registration.unregister();\r\n      })\r\n      .catch(error => {\r\n        console.error(error.message);\r\n      });\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport { BrowserRouter as Router } from \"react-router-dom\";\r\nimport \"./index.css\";\r\nimport App from \"./App\";\r\nimport * as serviceWorker from \"./serviceWorker\";\r\n\r\nReactDOM.render(\r\n\t<React.StrictMode>\r\n\t\t<Router>\r\n\t\t\t<App />\r\n\t\t</Router>\r\n\t</React.StrictMode>,\r\n\tdocument.getElementById(\"root\")\r\n);\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}